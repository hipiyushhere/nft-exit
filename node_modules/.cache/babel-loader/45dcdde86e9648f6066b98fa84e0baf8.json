{"ast":null,"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.formatRpcError = exports.promisify = void 0;\n\nconst tslib_1 = require(\"tslib\");\n\nfunction promisify(originalFn, thisArg) {\n  var _this = this;\n\n  const promisifiedFunction = function () {\n    for (var _len = arguments.length, callArgs = new Array(_len), _key = 0; _key < _len; _key++) {\n      callArgs[_key] = arguments[_key];\n    }\n\n    return tslib_1.__awaiter(_this, void 0, void 0, function* () {\n      return new Promise((resolve, reject) => {\n        const callback = (err, data) => {\n          if (err === null || typeof err === \"undefined\") {\n            reject(err);\n          }\n\n          resolve(data);\n        };\n\n        originalFn.apply(thisArg, [...callArgs, callback]);\n      });\n    });\n  };\n\n  return promisifiedFunction;\n}\n\nexports.promisify = promisify;\n\nfunction formatRpcError(error) {\n  const message = error.message || \"Failed or Rejected Request\";\n  let code = -32000;\n\n  if (error && !error.code) {\n    switch (message) {\n      case \"Parse error\":\n        code = -32700;\n        break;\n\n      case \"Invalid request\":\n        code = -32600;\n        break;\n\n      case \"Method not found\":\n        code = -32601;\n        break;\n\n      case \"Invalid params\":\n        code = -32602;\n        break;\n\n      case \"Internal error\":\n        code = -32603;\n        break;\n\n      default:\n        code = -32000;\n        break;\n    }\n  }\n\n  const result = {\n    code,\n    message\n  };\n  return result;\n}\n\nexports.formatRpcError = formatRpcError;","map":{"version":3,"sources":["../../src/payload.ts"],"names":[],"mappings":";;;;;;;;;AAMA,SAAgB,SAAhB,CACE,UADF,EAEE,OAFF,EAEe;AAAA;;AAEb,QAAM,mBAAmB,GAAG;AAAA,sCACvB,QADuB;AACvB,MAAA,QADuB;AAAA;;AAAA,WAEkC,OAAA,CAAA,SAAA,CAAA,KAAA,EAAA,KAAA,CAAA,EAAA,KAAA,CAAA,EAAA,aAAA;AAC5D,aAAO,IAAI,OAAJ,CAAY,CAAC,OAAD,EAAU,MAAV,KAAoB;AACrC,cAAM,QAAQ,GAAG,CACf,GADe,EAEf,IAFe,KAGb;AACF,cAAI,GAAG,KAAK,IAAR,IAAgB,OAAO,GAAP,KAAe,WAAnC,EAAgD;AAC9C,YAAA,MAAM,CAAC,GAAD,CAAN;AACD;;AACD,UAAA,OAAO,CAAC,IAAD,CAAP;AACD,SARD;;AASA,QAAA,UAAU,CAAC,KAAX,CAAiB,OAAjB,EAA0B,CAAC,GAAG,QAAJ,EAAc,QAAd,CAA1B;AACD,OAXM,CAAP;AAYD,KAb6D,CAFlC;AAAA,GAA5B;;AAgBA,SAAO,mBAAP;AACD;;AArBD,OAAA,CAAA,SAAA,GAAA,SAAA;;AAuBA,SAAgB,cAAhB,CACE,KADF,EACsC;AAEpC,QAAM,OAAO,GAAG,KAAK,CAAC,OAAN,IAAiB,4BAAjC;AACA,MAAI,IAAI,GAAG,CAAC,KAAZ;;AACA,MAAI,KAAK,IAAI,CAAC,KAAK,CAAC,IAApB,EAA0B;AACxB,YAAQ,OAAR;AACE,WAAK,aAAL;AACE,QAAA,IAAI,GAAG,CAAC,KAAR;AACA;;AACF,WAAK,iBAAL;AACE,QAAA,IAAI,GAAG,CAAC,KAAR;AACA;;AACF,WAAK,kBAAL;AACE,QAAA,IAAI,GAAG,CAAC,KAAR;AACA;;AACF,WAAK,gBAAL;AACE,QAAA,IAAI,GAAG,CAAC,KAAR;AACA;;AACF,WAAK,gBAAL;AACE,QAAA,IAAI,GAAG,CAAC,KAAR;AACA;;AACF;AACE,QAAA,IAAI,GAAG,CAAC,KAAR;AACA;AAlBJ;AAoBD;;AACD,QAAM,MAAM,GAAG;AACb,IAAA,IADa;AAEb,IAAA;AAFa,GAAf;AAIA,SAAO,MAAP;AACD;;AAhCD,OAAA,CAAA,cAAA,GAAA,cAAA","sourceRoot":"","sourcesContent":["\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.formatRpcError = exports.promisify = void 0;\nconst tslib_1 = require(\"tslib\");\nfunction promisify(originalFn, thisArg) {\n    const promisifiedFunction = (...callArgs) => tslib_1.__awaiter(this, void 0, void 0, function* () {\n        return new Promise((resolve, reject) => {\n            const callback = (err, data) => {\n                if (err === null || typeof err === \"undefined\") {\n                    reject(err);\n                }\n                resolve(data);\n            };\n            originalFn.apply(thisArg, [...callArgs, callback]);\n        });\n    });\n    return promisifiedFunction;\n}\nexports.promisify = promisify;\nfunction formatRpcError(error) {\n    const message = error.message || \"Failed or Rejected Request\";\n    let code = -32000;\n    if (error && !error.code) {\n        switch (message) {\n            case \"Parse error\":\n                code = -32700;\n                break;\n            case \"Invalid request\":\n                code = -32600;\n                break;\n            case \"Method not found\":\n                code = -32601;\n                break;\n            case \"Invalid params\":\n                code = -32602;\n                break;\n            case \"Internal error\":\n                code = -32603;\n                break;\n            default:\n                code = -32000;\n                break;\n        }\n    }\n    const result = {\n        code,\n        message,\n    };\n    return result;\n}\nexports.formatRpcError = formatRpcError;\n//# sourceMappingURL=payload.js.map"]},"metadata":{},"sourceType":"script"}