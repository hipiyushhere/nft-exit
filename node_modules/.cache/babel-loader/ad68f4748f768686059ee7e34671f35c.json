{"ast":null,"code":"const Readable = require('readable-stream').Readable;\n\nconst TrieNode = require('./trieNode');\n\nconst util = require('util');\n\nmodule.exports = TrieReadStream;\n\nfunction TrieReadStream(trie) {\n  this.trie = trie;\n  this.next = null;\n  Readable.call(this, {\n    objectMode: true\n  });\n}\n\nutil.inherits(TrieReadStream, Readable);\n\nTrieReadStream.prototype._read = function () {\n  var self = this;\n\n  if (!self._started) {\n    self._started = true;\n\n    self.trie._findValueNodes(function (nodeRef, node, key, next) {\n      self.push({\n        key: TrieNode.nibblesToBuffer(key),\n        value: node.value\n      });\n      next();\n    }, function () {\n      // close stream\n      self.push(null);\n    });\n  }\n};","map":{"version":3,"sources":["/Users/piyushmaheshwari/Downloads/pos-plasma-tutorial-exit-pos-plasma/node_modules/merkle-patricia-tree/readStream.js"],"names":["Readable","require","TrieNode","util","module","exports","TrieReadStream","trie","next","call","objectMode","inherits","prototype","_read","self","_started","_findValueNodes","nodeRef","node","key","push","nibblesToBuffer","value"],"mappings":"AAAA,MAAMA,QAAQ,GAAGC,OAAO,CAAC,iBAAD,CAAP,CAA2BD,QAA5C;;AACA,MAAME,QAAQ,GAAGD,OAAO,CAAC,YAAD,CAAxB;;AACA,MAAME,IAAI,GAAGF,OAAO,CAAC,MAAD,CAApB;;AAEAG,MAAM,CAACC,OAAP,GAAiBC,cAAjB;;AAEA,SAASA,cAAT,CAAyBC,IAAzB,EAA+B;AAC7B,OAAKA,IAAL,GAAYA,IAAZ;AACA,OAAKC,IAAL,GAAY,IAAZ;AACAR,EAAAA,QAAQ,CAACS,IAAT,CAAc,IAAd,EAAoB;AAClBC,IAAAA,UAAU,EAAE;AADM,GAApB;AAGD;;AAEDP,IAAI,CAACQ,QAAL,CAAcL,cAAd,EAA8BN,QAA9B;;AAEAM,cAAc,CAACM,SAAf,CAAyBC,KAAzB,GAAiC,YAAY;AAC3C,MAAIC,IAAI,GAAG,IAAX;;AACA,MAAI,CAACA,IAAI,CAACC,QAAV,EAAoB;AAClBD,IAAAA,IAAI,CAACC,QAAL,GAAgB,IAAhB;;AACAD,IAAAA,IAAI,CAACP,IAAL,CAAUS,eAAV,CAA0B,UAAUC,OAAV,EAAmBC,IAAnB,EAAyBC,GAAzB,EAA8BX,IAA9B,EAAoC;AAC5DM,MAAAA,IAAI,CAACM,IAAL,CAAU;AACRD,QAAAA,GAAG,EAAEjB,QAAQ,CAACmB,eAAT,CAAyBF,GAAzB,CADG;AAERG,QAAAA,KAAK,EAAEJ,IAAI,CAACI;AAFJ,OAAV;AAIAd,MAAAA,IAAI;AACL,KAND,EAMG,YAAY;AACb;AACAM,MAAAA,IAAI,CAACM,IAAL,CAAU,IAAV;AACD,KATD;AAUD;AACF,CAfD","sourcesContent":["const Readable = require('readable-stream').Readable\nconst TrieNode = require('./trieNode')\nconst util = require('util')\n\nmodule.exports = TrieReadStream\n\nfunction TrieReadStream (trie) {\n  this.trie = trie\n  this.next = null\n  Readable.call(this, {\n    objectMode: true\n  })\n}\n\nutil.inherits(TrieReadStream, Readable)\n\nTrieReadStream.prototype._read = function () {\n  var self = this\n  if (!self._started) {\n    self._started = true\n    self.trie._findValueNodes(function (nodeRef, node, key, next) {\n      self.push({\n        key: TrieNode.nibblesToBuffer(key),\n        value: node.value\n      })\n      next()\n    }, function () {\n      // close stream\n      self.push(null)\n    })\n  }\n}\n"]},"metadata":{},"sourceType":"script"}